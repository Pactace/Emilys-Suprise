[gd_scene load_steps=24 format=3 uid="uid://ci1un4nkj8jcr"]

[ext_resource type="PackedScene" uid="uid://dt6j24qhea4jy" path="res://Levels/Components/Room.tscn" id="1_ff714"]
[ext_resource type="Script" uid="uid://c7svm8f5ribdi" path="res://Levels/camera_controller.gd" id="2_worjo"]
[ext_resource type="PackedScene" uid="uid://blqcb0l0orvyd" path="res://UI_Overlay/ui_overlay.tscn" id="3_5jav2"]
[ext_resource type="Script" uid="uid://ctkrwale6kuue" path="res://Levels/Level Scenes/Floor 1/Sitting Room/SittingRoomFloorFurnitureInventory.gd" id="4_rplpx"]
[ext_resource type="Script" uid="uid://cyg27bhlruqgq" path="res://Inventories/FlooringInventory.gd" id="5_f2urs"]
[ext_resource type="Script" uid="uid://bkf5014bgqwmp" path="res://Levels/Level Scenes/Floor 1/Sitting Room/SittingRoomPlaceableInventory.gd" id="6_yx40g"]
[ext_resource type="Script" uid="uid://clhn0v830uf82" path="res://Levels/Level Scenes/Floor 1/Sitting Room/SittingRoomWallInventory.gd" id="7_0muj8"]
[ext_resource type="Script" uid="uid://dnktgev8rj178" path="res://Inventories/WallPaperInventory.gd" id="8_r0bjh"]
[ext_resource type="PackedScene" uid="uid://b8gxmac3vkh3n" path="res://Levels/Components/Emily.tscn" id="9_8uvcj"]
[ext_resource type="Shader" uid="uid://dlln7bt0dv2nk" path="res://Start and Pause Menus/Transition.gdshader" id="10_cuxab"]
[ext_resource type="Script" uid="uid://cmrv4gn5hinpj" path="res://Start and Pause Menus/transition_screen.gd" id="11_bt4gl"]
[ext_resource type="PackedScene" uid="uid://dn85sibojc4ki" path="res://Models/Final Models/TransitionPieces/door.tscn" id="12_oyjit"]
[ext_resource type="PackedScene" uid="uid://d234bnlpcpjd4" path="res://Levels/Components/stairs.tscn" id="13_fu6ma"]
[ext_resource type="PackedScene" uid="uid://cpuf71mcq07a3" path="res://Levels/Components/open_entrance.tscn" id="13_ucgt1"]
[ext_resource type="Texture2D" uid="uid://ck2ncogjlvp0w" path="res://Levels/Components/Gemini_Generated_Image_ftd4rgftd4rgftd4-removebg-preview.png" id="14_fu6ma"]
[ext_resource type="PackedScene" uid="uid://btd2vgimkjyac" path="res://Levels/Components/music_player.tscn" id="16_rplpx"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_c1lj7"]
shader = ExtResource("10_cuxab")
shader_parameter/circle_size = 0.0
shader_parameter/screen_width = 0.0
shader_parameter/screen_height = 0.0

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_ucgt1"]
transparency = 1
albedo_color = Color(0.61339027, 0.61339027, 0.61339027, 1)
albedo_texture = ExtResource("14_fu6ma")
uv1_scale = Vector3(0.4, 1, 0.265)
uv1_offset = Vector3(0.51, -0.01, -0.33)
uv1_triplanar = true

[sub_resource type="PlaneMesh" id="PlaneMesh_yx40g"]

[sub_resource type="BoxShape3D" id="BoxShape3D_ucgt1"]
size = Vector3(1.68, 1.675, 1.99)

[sub_resource type="Gradient" id="Gradient_rplpx"]

[sub_resource type="GradientTexture1D" id="GradientTexture1D_yx40g"]
gradient = SubResource("Gradient_rplpx")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_0muj8"]
transparency = 1
blend_mode = 3
albedo_texture = SubResource("GradientTexture1D_yx40g")

[node name="TestLevel" type="Node3D"]

[node name="Room" parent="." node_paths=PackedStringArray("camera") instance=ExtResource("1_ff714")]
horizontal_size = 2
vertical_size = 2
camera = NodePath("../Camera")

[node name="Camera" type="Camera3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.887011, 0.461749, 0, -0.461749, 0.887011, 0, 10, 15)
visible = false
size = 8.0
script = ExtResource("2_worjo")

[node name="UiOverlay" parent="." node_paths=PackedStringArray("camera", "room") instance=ExtResource("3_5jav2")]
camera = NodePath("../Camera")
room = NodePath("../Room")
floor_furniture_inventory = ExtResource("4_rplpx")
flooring_inventory = ExtResource("5_f2urs")
placeable_inventory = ExtResource("6_yx40g")
wall_furniture_inventory = ExtResource("7_0muj8")
wallpaper_inventory = ExtResource("8_r0bjh")

[node name="Emily" parent="." instance=ExtResource("9_8uvcj")]
transform = Transform3D(3, 0, 0, 0, 3, 0, 0, 0, 3, 1.81631, 2.44494, -0.130091)
SPEED = 5.0

[node name="TransitionScreen" type="ColorRect" parent="."]
material = SubResource("ShaderMaterial_c1lj7")
offset_right = 640.0
offset_bottom = 480.0
color = Color(0, 0, 0, 1)
script = ExtResource("11_bt4gl")

[node name="Doors" type="Node3D" parent="."]

[node name="StairsideHallwayDoor" parent="Doors" node_paths=PackedStringArray("marker") instance=ExtResource("12_oyjit")]
transform = Transform3D(1, 0, 0, 0, 0.9941573, 0, 0, 0, 1, 9.736913, 3.6350203, 0.4303012)
marker = NodePath("Marker3D")
next_scene = "res://Levels/Level Scenes/Floor 2/Libraryside Hallway/LibrarysideHallway.tscn"
next_door = "LibraryDoor"

[node name="Marker3D" type="Marker3D" parent="Doors/StairsideHallwayDoor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.2846985, -0.5575495, -1.1920929e-07)

[node name="SittingRoomStairs" parent="Doors" node_paths=PackedStringArray("marker") instance=ExtResource("13_ucgt1")]
transform = Transform3D(-1.4479343e-10, 0, -3.2846284, 0, 3.033092, 0, 0.0033124876, 0, -1.4357568e-07, -7.8910513, 2.529222, -5.1341877)
visible = false
next_scene = "res://Levels/Level Scenes/Floor 1/Sitting Room/SittingRoom.tscn"
marker = NodePath("Marker3D")
next_door = "LibraryStairs"

[node name="Marker3D" type="Marker3D" parent="Doors/SittingRoomStairs"]
transform = Transform3D(0.9999999, 0, 4.5474735e-13, 0, 0.99999994, 0, 2.7755576e-17, 0, 1.0000002, -73.98407, -0.22447789, 0.028035522)

[node name="TowerTopStairs" parent="Doors" node_paths=PackedStringArray("marker") instance=ExtResource("13_ucgt1")]
transform = Transform3D(0.0003865404, 0, -0.081571065, 0, 3.9821768, 0, 1.0290731e-05, 0, 3.0639718, -2.4931467, 2.529222, -7.9661717)
visible = false
next_scene = "res://Levels/Level Scenes/Floor 2/Library Third Floor/TowerTop.tscn"
marker = NodePath("Marker3D")
next_door = "LibraryStairs"

[node name="Marker3D" type="Marker3D" parent="Doors/TowerTopStairs"]
transform = Transform3D(1, 0, 3.8146973e-06, 0, 0.99999994, 0, 9.094947e-13, 0, 1.0000001, -706.15845, -0.22447786, 0.041551113)

[node name="Stairs" parent="." instance=ExtResource("13_fu6ma")]
transform = Transform3D(-0.0006282766, 0, -0.9999998, 0, 1, 0, 0.9999998, 0, -0.0006282766, 2.4888601, 0.102, -7.562338)

[node name="MeshInstance3D9" parent="Stairs" index="8"]
transform = Transform3D(3.9990191, 0, 1.1641532e-10, 0, 9, 0, 0, 0, 1.7660424, 0.00040531158, 4.4153643, -6.6956277)

[node name="MeshInstance3D" type="MeshInstance3D" parent="."]
transform = Transform3D(-2.5153096, 0, -0.08060452, 0, 1, 0, 0.052380648, 0, -3.8706143, -7.463511, 0.059557676, -1.2382224)
material_override = SubResource("StandardMaterial3D_ucgt1")
mesh = SubResource("PlaneMesh_yx40g")

[node name="StaticBody3D" type="StaticBody3D" parent="MeshInstance3D"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="MeshInstance3D/StaticBody3D"]
shape = SubResource("BoxShape3D_ucgt1")

[node name="MeshInstance3D2" type="MeshInstance3D" parent="."]
transform = Transform3D(-0.041640576, 0, 2.267066, 0, 0.99999994, 0, -3.9368763, 0, -0.023978854, -7.463511, 0.050822258, -1.1345842)
material_override = SubResource("StandardMaterial3D_0muj8")
mesh = SubResource("PlaneMesh_yx40g")

[node name="MusicPlayer" parent="." instance=ExtResource("16_rplpx")]

[editable path="Stairs"]
