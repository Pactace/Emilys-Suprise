[gd_scene load_steps=21 format=3 uid="uid://tdw8pesr6ixa"]

[ext_resource type="PackedScene" uid="uid://dt6j24qhea4jy" path="res://Levels/Components/Room.tscn" id="1_1lgtj"]
[ext_resource type="Script" uid="uid://c7svm8f5ribdi" path="res://Levels/camera_controller.gd" id="2_h11kn"]
[ext_resource type="PackedScene" uid="uid://blqcb0l0orvyd" path="res://UI_Overlay/ui_overlay.tscn" id="3_n5f8v"]
[ext_resource type="Script" uid="uid://pfyqck006swk" path="res://Levels/Level Scenes/Floor 2/Library Third Floor/TowerTopFloorFurnitureInventory.gd" id="4_pyk7j"]
[ext_resource type="Script" uid="uid://cyg27bhlruqgq" path="res://Inventories/FlooringInventory.gd" id="5_y44l3"]
[ext_resource type="Script" uid="uid://bd4hcu78w3sc4" path="res://Levels/Level Scenes/Floor 2/Library Third Floor/TowerTopPlaceableInventory.gd" id="6_8om22"]
[ext_resource type="Script" uid="uid://c35auqk7hel2p" path="res://Levels/Level Scenes/Floor 2/Library Third Floor/TowerTopWallInventory.gd" id="7_qj1ch"]
[ext_resource type="Script" uid="uid://dnktgev8rj178" path="res://Inventories/WallPaperInventory.gd" id="8_l3uch"]
[ext_resource type="PackedScene" uid="uid://b8gxmac3vkh3n" path="res://Levels/Components/Emily.tscn" id="9_g8a76"]
[ext_resource type="Shader" uid="uid://dlln7bt0dv2nk" path="res://Start and Pause Menus/Transition.gdshader" id="10_ysu2o"]
[ext_resource type="Script" uid="uid://cmrv4gn5hinpj" path="res://Start and Pause Menus/transition_screen.gd" id="11_trxfi"]
[ext_resource type="PackedScene" uid="uid://cpuf71mcq07a3" path="res://Levels/Components/open_entrance.tscn" id="13_co04d"]
[ext_resource type="Texture2D" uid="uid://ck2ncogjlvp0w" path="res://Levels/Components/Gemini_Generated_Image_ftd4rgftd4rgftd4-removebg-preview.png" id="15_gc6es"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_c1lj7"]
shader = ExtResource("10_ysu2o")
shader_parameter/circle_size = 0.0
shader_parameter/screen_width = 0.0
shader_parameter/screen_height = 0.0

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_ucgt1"]
transparency = 1
albedo_color = Color(0.61339027, 0.61339027, 0.61339027, 1)
albedo_texture = ExtResource("15_gc6es")
uv1_scale = Vector3(0.4, 1, 0.265)
uv1_offset = Vector3(0.51, -0.01, -0.33)
uv1_triplanar = true

[sub_resource type="PlaneMesh" id="PlaneMesh_yx40g"]

[sub_resource type="BoxShape3D" id="BoxShape3D_ucgt1"]
size = Vector3(1.68, 1.675, 1.99)

[sub_resource type="Gradient" id="Gradient_rplpx"]

[sub_resource type="GradientTexture1D" id="GradientTexture1D_yx40g"]
gradient = SubResource("Gradient_rplpx")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_0muj8"]
transparency = 1
blend_mode = 3
albedo_texture = SubResource("GradientTexture1D_yx40g")

[node name="TestLevel" type="Node3D"]

[node name="Room" parent="." node_paths=PackedStringArray("camera") instance=ExtResource("1_1lgtj")]
camera = NodePath("../Camera")

[node name="Camera" type="Camera3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.887011, 0.461749, 0, -0.461749, 0.887011, 0, 10, 15)
visible = false
size = 8.0
script = ExtResource("2_h11kn")

[node name="UiOverlay" parent="." node_paths=PackedStringArray("camera", "room") instance=ExtResource("3_n5f8v")]
camera = NodePath("../Camera")
room = NodePath("../Room")
floor_furniture_inventory = ExtResource("4_pyk7j")
flooring_inventory = ExtResource("5_y44l3")
placeable_inventory = ExtResource("6_8om22")
wall_furniture_inventory = ExtResource("7_qj1ch")
wallpaper_inventory = ExtResource("8_l3uch")

[node name="Emily" parent="." instance=ExtResource("9_g8a76")]
transform = Transform3D(3, 0, 0, 0, 3, 0, 0, 0, 3, 1.81631, 2.44494, -0.130091)
SPEED = 5.0

[node name="TransitionScreen" type="ColorRect" parent="."]
material = SubResource("ShaderMaterial_c1lj7")
offset_right = 640.0
offset_bottom = 480.0
color = Color(0, 0, 0, 1)
script = ExtResource("11_trxfi")

[node name="Doors" type="Node3D" parent="."]

[node name="LibraryStairs" parent="Doors" node_paths=PackedStringArray("marker") instance=ExtResource("13_co04d")]
transform = Transform3D(-0.00038667736, 0, -2.6795584e-07, 0, 3.9821768, 0, 3.3804407e-11, 0, -3.0650575, 4.2206335, 2.7914915, -5.6157017)
visible = false
next_scene = "res://Levels/Level Scenes/Floor 2/Library Second Floor/Library.tscn"
marker = NodePath("Marker3D")
next_door = "TowerTopStairs"

[node name="Marker3D" type="Marker3D" parent="Doors/LibraryStairs"]
transform = Transform3D(1, 0, 3.8146973e-06, 0, 0.9999999, 0, 9.0949383e-13, 0, 1.0000002, -3787.9756, -0.22447783, 0.041551113)

[node name="MeshInstance3D" type="MeshInstance3D" parent="."]
transform = Transform3D(-1.0997151e-07, 0, 3.8714533, 0, 1, 0, -2.5158548, 0, -1.692266e-07, 0.6179924, 0.059557676, -5.762028)
material_override = SubResource("StandardMaterial3D_ucgt1")
mesh = SubResource("PlaneMesh_yx40g")

[node name="StaticBody3D" type="StaticBody3D" parent="MeshInstance3D"]
transform = Transform3D(-4.371139e-08, 0, 1, 0, 1, 0, -1, 0, -4.371139e-08, 0, 0, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="MeshInstance3D/StaticBody3D"]
transform = Transform3D(-4.371139e-08, 0, 1, 0, 1, 0, -1, 0, -4.371139e-08, 0, 0, 0)
shape = SubResource("BoxShape3D_ucgt1")

[node name="MeshInstance3D2" type="MeshInstance3D" parent="."]
transform = Transform3D(3.9370966, 0, 0, 0, 0.99999994, 0, 0, 0, 2.2671928, 0.5147238, 0.050822258, -5.7532783)
material_override = SubResource("StandardMaterial3D_0muj8")
mesh = SubResource("PlaneMesh_yx40g")
